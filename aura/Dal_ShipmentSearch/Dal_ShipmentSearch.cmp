<!--
 - Created by 7Summits on 5/14/18.
 -->

<aura:component description="Dal_ShipmentSearch" extends="c:Dal_Base" controller="Dal_OrderSearchController" implements="force:appHostable,flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes">
    <aura:attribute name="shipmentNumber" type="String" default=""/>
    <aura:attribute name="shipFromLoc" type="String" default=""/>
    <aura:attribute name="shipmentDateStart" type="Date" default=""/>
    <aura:attribute name="shipmentDateEnd" type="Date" default=""/>
    <aura:attribute name="shipLocation" type="String" default=""/>
    <aura:attribute name="lineStatusSelected" type="String" />
    <aura:attribute name="searchButton" type="String" default=""/>
    <aura:attribute name="filteredRows" type="String" />
    <aura:attribute name="shipLocations" type="List" default="[]" />

    <aura:attribute name="hasPagination" type="Boolean" default="false" />
    <aura:attribute name="paginationItemsPerPage" type="Integer" default="30" />
    <aura:attribute name="paginationStartPage" type="Integer" default="0" />
    <aura:attribute name="listMaximum" type="Integer" default="300" />

    <aura:handler name="init" value="{! this }" action="{! c.init }"/>
    <lightning:layout pullToBoundary="small" multipleRows="true">
        <lightning:layoutItem size="12" class="slds-p-vertical--large">
            <lightning:layout multipleRows="true">
                <lightning:layoutItem class="slds-p-around_x-small" size="12" mediumDeviceSize="6" largeDeviceSize="3">
                    <ui:inputText aura:id="orderNumber" label="BOL Number"
                                  class="slds-p-around_small input-x-small"
                                  value="{!v.shipmentNumber}"
                                  required="false"
                                  maxlength="11"
                    />
                </lightning:layoutItem>

                <lightning:layoutItem class="slds-p-around_x-small" size="12" mediumDeviceSize="6" largeDeviceSize="3">
                    <lightning:select name="shipmentLoc" label="Ship From Location" aura:id="shipmentLoc" value="{!v.shipLocation}"
                                      class="input-x-small">
                        <option value="">-None-</option>
                        <aura:iteration items="{!v.shipLocations}" var="sLocation">
                            <option value="{!sLocation.value}">{!sLocation.label}</option>
                        </aura:iteration>
                    </lightning:select>
                </lightning:layoutItem>
                <lightning:layoutItem class="orderDate slds-p-around_x-small" size="12" mediumDeviceSize="6"
                                      largeDeviceSize="4">
                    <label class="uiLabel">Ship Date Between</label>
                    <div>
                        <ui:inputDate aura:id="orderStartDate" displayDatePicker="true"
                                      value="{!v.shipmentDateStart}"
                                      format="MM/DD/YYYY"
                                      required="true"/>
                        <span class="dateSeparator">-</span>
                        <ui:inputDate aura:id="orderEndDate" displayDatePicker="true"
                                      value="{!v.shipmentDateEnd}"
                                      format="MM/DD/YYYY"
                                      required="true"/>
                    </div>
                </lightning:layoutItem>

                <lightning:layoutItem class="searchButton slds-align-content-center  slds-p-horizontal_x-small" size="12" mediumDeviceSize="6" largeDeviceSize="2">
                    <lightning:button variant="neutral" label="Search" onclick="{!c.searchOrders}"/>
                </lightning:layoutItem>
            </lightning:layout>
        </lightning:layoutItem>
        <lightning:layoutItem size="12">
            <c:Dal_ShipmentList aura:id="shipmentListComponent"
                             hasPagination="{!v.hasPagination}" paginationItemsPerPage="{!v.paginationItemsPerPage}" paginationStartPage="{!v.paginationStartPage}" listMaximum="{!v.listMaximum}"/>

        </lightning:layoutItem>
    </lightning:layout>

</aura:component>