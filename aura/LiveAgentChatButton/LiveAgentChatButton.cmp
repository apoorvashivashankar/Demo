<aura:component controller="LiveAgentChatButton" implements="forceCommunity:availableForAllPageTypes" access="global">
    <aura:attribute name="organizationId" type="String" required="true"/>
    <aura:attribute name="deploymentUrl" type="String" required="true"/>
    <aura:attribute name="endpoint" type="String" required="true"/>
    <aura:attribute name="deploymentId" type="String" required="true"/>
    <aura:attribute name="chatButtontId" type="String" required="true"/>
    <aura:attribute name="onlineText" type="String" required="true" default="Chat Now"/>
    <aura:attribute name="offlineText" type="String" required="true" default="Chat Unavailable"/>
    <aura:attribute name="isInvalidInput" type="Boolean"/>
    <aura:attribute name="userSessionData" type="Boolean" default="false"/>
    <aura:attribute name="iconColor" type="String" default="#CF0A2C"/>

    <aura:attribute name="previousIsLiveAgentOnline" type="Boolean"/>
    <aura:attribute name="isLiveAgentOnline" type="Boolean" default="false"/>

    <aura:attribute name="contact" type="Contact"/>

    <aura:handler name="init" value="{!this}" action="{!c.init}"/>

    <aura:if isTrue="{!v.isInvalidInput}">
        <ui:message title="Warning" severity="warning" closable="false">
            Live Agent Chat Button configuration data is empty.
        </ui:message>
    </aura:if>
    <!-- parameters are ok -->
    <c:ScriptWrapper paramURL="{!v.deploymentUrl}"/>
    <div id="btnContainer" class="selfServiceContactSupport forceCommunityCreateRecordButton">
        <div class="sButton">

            <button aura:id="btONline" id="btONline" class="contactSupport laBtn toggle" onclick="{!c.startChat}">
                <c:Dal_InfoPanelItem icon="utility:questions_and_answers"
                        mainText="{!v.onlineText}"
                        iconBG="{!v.iconColor}"
                        subText="SUPPORT AGENT"
                        isLink="false"
                        size="small"
                />
            </button>

            <button aura:id="btOFFline" id="btOFFline" class="contactSupport laBtn disabled">
                <c:Dal_InfoPanelItem icon="utility:questions_and_answers"
                        mainText="{!v.offlineText}"
                        iconBG="{!v.iconColor}"
                        subText="SUPPORT AGENT"
                        isLink="false"
                        size="small"
                />
            </button>

        </div>
    </div>
</aura:component>